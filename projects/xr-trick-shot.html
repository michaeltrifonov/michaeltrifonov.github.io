<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XR Trick Shot: Spatial Computing on visionOS - Michael Trifonov</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="css/projects.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis',
                nodeSpacing: 80,
                rankSpacing: 100,
                padding: 20
            },
            fontSize: 14,
            securityLevel: 'loose'
        });
    </script>
    <style>
        /* Additional styles for improved formatting */
        .code-snippet {
            background: #2d2d2d;
            border-radius: 8px;
            margin: 1rem 0;
            overflow-x: auto;
        }
        
        .code-snippet pre {
            margin: 0;
            padding: 1rem;
        }
        
        .code-snippet code {
            color: #f8f8f2;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
            white-space: pre;
            display: block;
        }
        
        .section-intro {
            font-size: 1.125rem;
            color: #4b5563;
            margin-bottom: 2rem;
            line-height: 1.7;
        }
        
        .feature-highlight {
            background: linear-gradient(to right, #f0f9ff, #e0f2fe);
            border-left: 4px solid #0284c7;
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
        }
        
        .sub-feature {
            background: #f8fafc;
            padding: 1rem;
            margin: 0.5rem 0 0.5rem 1rem;
            border-radius: 6px;
            border-left: 2px solid #cbd5e1;
        }
        
        .mermaid {
            margin: 2rem 0;
        }
        
        .code-reference {
            font-family: monospace;
            background: #e5e7eb;
            padding: 0.1rem 0.4rem;
            border-radius: 3px;
            font-size: 0.9rem;
        }
        
        /* Fix bullet formatting */
        .implementation-card ul,
        .feature-highlight ul,
        .sub-feature ul,
        .info-box ul {
            margin: 1rem 0;
            padding-left: 1.5rem;
            list-style-position: outside;
        }
        
        .implementation-card li,
        .feature-highlight li,
        .sub-feature li,
        .info-box li {
            margin: 0.6rem 0;
            line-height: 1.7;
            list-style-type: disc;
            padding-left: 0.25rem;
        }
        
        .implementation-card ul li::marker,
        .feature-highlight ul li::marker,
        .sub-feature ul li::marker {
            color: #0284c7;
            font-size: 1.2em;
        }
        
        /* Improve strong tags in lists */
        .implementation-card li strong,
        .feature-highlight li strong,
        .sub-feature li strong,
        .info-box li strong {
            color: #1f2937;
            font-weight: 600;
        }
        
        /* Ensure proper nesting */
        .sub-feature ul {
            margin-top: 0.5rem;
            padding-left: 1rem;
        }
        
        .sub-feature ul li {
            font-size: 0.95rem;
            color: #4b5563;
        }
        
        /* Make charts larger and more readable */
        .mermaid {
            margin: 2rem 0;
            min-height: 400px;
            text-align: center;
        }
        
        /* Improve paragraph spacing */
        .implementation-card p,
        .feature-highlight p {
            margin: 0.75rem 0;
            line-height: 1.7;
            color: #374151;
        }
        
        /* Clean up overall text appearance */
        p {
            line-height: 1.7;
        }
        
        /* Adjust title sizing */
        .project-title {
            font-size: 2.25rem !important;
            line-height: 1.2;
            letter-spacing: -0.02em;
        }
        
        .project-container {
            max-width: 1100px !important;
        }
        
        @media (max-width: 1400px) {
            .project-title {
                font-size: 2rem !important;
            }
        }
        
        /* Responsive adjustments */
        @media (max-width: 1200px) {
            .metrics-grid {
                grid-template-columns: repeat(2, 1fr) !important;
            }
        }
        
        @media (max-width: 768px) {
            .metrics-grid {
                grid-template-columns: 1fr !important;
            }
        }
    </style>
</head>
<body>
    <div class="project-container">
        <div class="project-header">
            <h1 class="project-title">XR Trick Shot: AI-Assisted Development on visionOS</h1>
            <p class="project-subtitle">Building AR Physics Systems with AI on a New Platform</p>
        </div>

        <div class="project-overview">
            <div class="project-meta">
                <span class="date">February - August 2024</span>
                <span class="separator">•</span>
                <span class="role">Sole Developer & System Architect</span>
                <span class="separator">•</span>
                <span class="status"><a href="https://apps.apple.com/us/app/xr-trick-shot/id6504303751" style="color: inherit; text-decoration: underline; text-underline-offset: 2px;" target="_blank" rel="noopener noreferrer">Live on App Store</a></span>
            </div>
            
            <p class="lead" style="max-width: none;">
                Shipped a production AR application in 4 months by pushing AI tools beyond their training boundaries. With visionOS existing entirely outside LLM training data, I developed techniques to leverage AI for implementing complex physics algorithms, real-time hand tracking, and 3D mathematics.
            </p>
            
            <p class="lead" style="max-width: none;">
                The resulting system implements advanced collision prediction (convex casting), processes hand tracking at 90Hz, and uses event-driven architecture with async message passing. Most importantly, it validates that AI can be guided to solve complex engineering problems it has never encountered before.
            </p>
        </div>

        <div class="metrics-grid" style="grid-template-columns: repeat(4, 1fr); gap: 1rem;">
            <div class="metric-box" style="height: 120px;">
                <div class="metric-value" style="font-size: 2rem;">Zero→Prod</div>
                <div class="metric-label">4 Months</div>
            </div>
            <div class="metric-box" style="height: 120px;">
                <div class="metric-value" style="font-size: 2rem;">Beyond LLM</div>
                <div class="metric-label">Training Data</div>
            </div>
            <div class="metric-box" style="height: 120px;">
                <div class="metric-value" style="font-size: 2rem;">Physics</div>
                <div class="metric-label">Algorithms</div>
            </div>
            <div class="metric-box" style="height: 120px;">
                <div class="metric-value" style="font-size: 2rem;">Production</div>
                <div class="metric-label">App Store</div>
            </div>
        </div>

        <h2>AI-Driven Engineering</h2>
        <p class="section-intro">
            When visionOS launched, it existed entirely outside LLM training data. I developed techniques to enable AI collaboration on complex physics and real-time systems despite this limitation.
        </p>
        <div class="mermaid" style="background: #f9fafb; padding: 2rem; border-radius: 12px; min-height: 500px;">
%%{init: {'theme':'base', 'themeVariables': { 'fontSize': '14px', 'primaryColor': '#e6f7ff', 'primaryTextColor': '#000', 'primaryBorderColor': '#007bff', 'lineColor': '#333'}}}%%
graph TD
    subgraph "System Architecture"
        EventBus["<b>Event Bus</b><br/>Decoupled Communication"]
        HTS["<b>Hand Tracking System</b><br/>90Hz Processing"]
        PS["<b>Physics System</b><br/>Convex Casting"]
        CS["<b>Collision System</b><br/>Scoring Detection"]
        Model["<b>State Manager</b><br/>Central Coordination"]
    end

    subgraph "AI Collaboration Process"
        API["<b>API Fragments</b><br/>New SDK Snippets"]
        Context["<b>Context Building</b><br/>Interaction Patterns"]
        Solution["<b>Physics Solution</b><br/>Algorithm Implementation"]
    end

    API --> Context
    Context --> Solution
    Solution --> PS
    
    HTS --> EventBus
    PS --> EventBus
    CS --> EventBus
    EventBus --> Model
    Model --> HTS
    Model --> PS
    Model --> CS

    style EventBus fill:#e6f7ff,stroke:#007bff,stroke-width:3px
    style Model fill:#e6ffe6,stroke:#28a745,stroke-width:3px
    style API fill:#fff0e6,stroke:#fd7e14,stroke-width:3px
    style Solution fill:#f0e6ff,stroke:#6f42c1,stroke-width:3px
        </div>

        <h2>Technical Implementation</h2>
        <p class="section-intro">
            This project required AI to reason about complex physics, 3D mathematics, and real-time systems. Here's how I achieved it.
        </p>

        <div class="implementation-card">
            <h4>Context Injection Technique</h4>
            <p>Developed a technique to enable AI reasoning about platforms that don't exist in training data:</p>
            
            <div class="feature-highlight">
                <strong>The Challenge</strong>
                <p>visionOS SDK launched with zero documentation in LLM training sets. Traditional prompting failed completely—models would hallucinate APIs or confuse it with iOS.</p>
            </div>

            <div class="feature-highlight">
                <strong>The Solution</strong>
                <p>Developed a technique to work with undocumented APIs:</p>
                <ul>
                    <li><strong>API Fragment Feeding:</strong> Provided snippets of the new, incomplete API documentation without explicitly mentioning visionOS</li>
                    <li><strong>Interaction-First Approach:</strong> Focused prompts on interaction patterns and behaviors rather than platform specifics</li>
                    <li><strong>Cross-Domain Synthesis:</strong> Guided AI to apply physics knowledge from other domains to the new framework</li>
                </ul>
            </div>

            <div class="feature-highlight">
                <strong>Result</strong>
                <p>Successfully implemented these physics algorithms through AI collaboration:</p>
                <ul>
                    <li><strong>Convex Casting:</strong> Predictive collision detection to prevent ball tunneling</li>
                    <li><strong>Environment Mesh Generation:</strong> Real-time conversion of AR world data to physics geometry</li>
                    <li><strong>Custom Gesture Recognition:</strong> Double-tap detection with temporal state machine</li>
                    <li><strong>Multi-Part Collision Geometry:</strong> Named shapes for precise scoring detection</li>
                </ul>
            </div>
        </div>

        <div class="implementation-card">
            <h4>Event-Driven Architecture</h4>
            <p>Implemented ECS with event bus pattern for decoupled system communication:</p>

            <div class="code-snippet">
<pre><code class="language-swift">// Event-driven pattern mirrors agent communication systems
class Model: ObservableObject {
    private let eventBus = EventBus.shared
    
    init() {
        // Agents subscribe to relevant events
        eventBus.subscribe(BallEvent.self) { [weak self] event in
            self?.handleBallEvent(event)
        }
        
        eventBus.subscribe(GameEvent.self) { [weak self] event in
            self?.handleGameEvent(event)
        }
    }
}</code></pre>
            </div>

            <div class="feature-highlight">
                <strong>Architecture Benefits</strong>
                <ul>
                    <li><strong>Decoupled Communication:</strong> Systems operate independently and communicate via events</li>
                    <li><strong>Async Message Passing:</strong> Non-blocking operations between components</li>
                    <li><strong>System Modularity:</strong> Each system has single responsibility, enabling parallel development</li>
                </ul>
            </div>
        </div>

        <h2>Real-Time Data Processing & Complex Physics</h2>
        <p class="section-intro">
            The technical challenges here—processing 90Hz sensor data, implementing predictive physics, managing concurrent systems—directly parallel the requirements of production AI systems.
        </p>

        <div class="implementation-card">
            <h4>90Hz Hand Tracking: High-Frequency Data Pipeline</h4>
            <p>Built real-time gesture recognition system processing hand skeleton data at 90 FPS:</p>
            
            <div class="feature-highlight">
                <strong>Technical Challenges Solved</strong>
                <ul>
                    <li><strong>Stream Processing:</strong> Handle 90Hz sensor data without blocking UI</li>
                    <li><strong>State Machine Implementation:</strong> Complex gesture recognition with temporal requirements</li>
                    <li><strong>Performance Optimization:</strong> Maintained 90 FPS while processing continuous data stream</li>
                </ul>
            </div>

            <div class="code-snippet">
<pre><code class="language-swift">// Real-time gesture detection with state machine
func processHandUpdate(handAnchor: HandAnchor, timestamp: TimeInterval) async {
    let thumbPos = handAnchor.handSkeleton?.joint(.thumbTip).anchorFromJointTransform.position
    let indexPos = handAnchor.handSkeleton?.joint(.indexFingerTip).anchorFromJointTransform.position
    
    let distanceSquared = simd_length_squared(thumbPos - indexPos)
    
    // State machine for gesture recognition - same pattern as agent behavior states
    if distanceSquared >= pinchThreshold && isPinching {
        isPinching = false
        if let lastTap = lastTapEndTime, (timestamp - lastTap <= doubleTapInterval) {
            eventBus.post(BallEvent.pickedUp)
            lastTapEndTime = nil
        }
    }
}</code></pre>
            </div>
        </div>

        <div class="implementation-card">
            <h4>AI-Assisted Algorithm Implementation</h4>
            <p>Used AI collaboration to implement predictive physics algorithms without prior experience:</p>

            <div class="feature-highlight">
                <strong>Convex Casting Implementation</strong>
                <p>Faced with ball tunneling issues, I worked with AI to implement collision prediction by synthesizing knowledge from game physics and Apple's API patterns:</p>
            </div>

            <div class="code-snippet">
<pre><code class="language-swift">// AI collaboration for predictive collision detection
// Required synthesizing 3D physics principles with new API
func updatePhysics() {
    let castResult = ball.scene?.convexCast(
        convexShape: ballCollisionShape,
        fromPosition: currentPos,
        toPosition: predictedPos,
        mask: .cupWalls
    )
    
    if let _ = castResult?.first {
        // AI suggested this damping coefficient after I described
        // the tunneling behavior - shows reasoning, not retrieval
        ball.components[PhysicsMotionComponent.self]?.linearVelocity *= 0.3
    }
}</code></pre>
            </div>

            <div class="feature-highlight">
                <strong>Additional AI-Assisted Implementations</strong>
                <p>Beyond convex casting, AI collaboration enabled several other complex features:</p>
                <ul>
                    <li><strong>Real-time Mesh Generation:</strong> Converted ARKit mesh anchors into collision geometry, requiring synthesis of Apple's undocumented MeshDescriptor API</li>
                    <li><strong>Custom Gesture Recognition:</strong> Built double-tap detection state machine processing 90Hz hand skeleton data - no examples existed for visionOS hand tracking</li>
                    <li><strong>Dynamic Environment Collision:</strong> Implemented background mesh updates that maintain physics interaction with real-world surfaces</li>
                </ul>
            </div>
        </div>

        <h2>Production Systems & Architecture Patterns</h2>
        <p class="section-intro">
            Beyond the AI collaboration techniques, this project demonstrates production-grade engineering patterns directly applicable to autonomous systems.
        </p>

        <div class="implementation-card">
            <h4>Concurrent Systems Architecture</h4>
            <p>Built sophisticated async systems handling multiple real-time data streams:</p>

            <div class="feature-highlight">
                <strong>Implementation Patterns</strong>
                <ul>
                    <li><strong>Async/Await:</strong> Non-blocking operations for heavy computation</li>
                    <li><strong>Event Bus:</strong> Decoupled communication between systems</li>
                    <li><strong>Centralized State:</strong> Single source of truth with distributed updates</li>
                    <li><strong>Background Processing:</strong> Compute-intensive tasks off main thread</li>
                </ul>
            </div>

            <div class="code-snippet">
<pre><code class="language-swift">// Async processing pattern used throughout
func processMeshAnchor(_ anchor: MeshAnchor) async {
    await Task.detached(priority: .userInitiated) {
        // Heavy computation off main thread
        // Same pattern needed for AI inference
        let mesh = try await MeshResource.generate(from: [descriptor])
        
        await MainActor.run {
            // UI updates on main thread
            meshEntity.model = ModelComponent(mesh: mesh)
        }
    }
}</code></pre>
            </div>
        </div>

        <h2>Technical Architecture Summary</h2>
        <div class="tech-stack" style="display: grid; gap: 0;">
            <div class="tech-category" style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 0.75rem;">
                <strong style="display: block; margin-bottom: 0.25rem; font-size: 1rem;">AI Collaboration Methods</strong>
                <p style="margin: 0; color: #6b7280; line-height: 1.4; font-size: 0.875rem;">Context Injection • API Fragment Feeding • Cross-Domain Knowledge Synthesis • Physics Algorithm Implementation</p>
            </div>
            <div class="tech-category" style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 0.75rem;">
                <strong style="display: block; margin-bottom: 0.25rem; font-size: 1rem;">Systems Architecture</strong>
                <p style="margin: 0; color: #6b7280; line-height: 1.4; font-size: 0.875rem;">Event-Driven Architecture • Entity-Component-System • Async/Await Patterns • Real-Time Data Processing (90Hz) • State Management</p>
            </div>
            <div class="tech-category" style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 0.75rem;">
                <strong style="display: block; margin-bottom: 0.25rem; font-size: 1rem;">Implemented Algorithms</strong>
                <p style="margin: 0; color: #6b7280; line-height: 1.4; font-size: 0.875rem;">Convex Casting • Continuous Collision Detection • Velocity Damping • 3D Transform Mathematics • Gesture State Machines</p>
            </div>
            <div class="tech-category" style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 0.75rem;">
                <strong style="display: block; margin-bottom: 0.25rem; font-size: 1rem;">Production Deployment</strong>
                <p style="margin: 0; color: #6b7280; line-height: 1.4; font-size: 0.875rem;">Swift 5.9 • SwiftUI • RealityKit • ARKit • visionOS SDK • App Store Release • Performance Optimization</p>
            </div>
        </div>

        <h2>Key Technical Achievements</h2>
        <div class="results-grid">
            <div class="result-card">
                <h4>Pushed AI Beyond Its Limits</h4>
                <p>Enabled LLMs to implement complex physics algorithms (convex casting) for a platform that didn't exist in training data - demonstrating AI's potential for genuine problem-solving.</p>
            </div>
            <div class="result-card">
                <h4>Context Injection Method</h4>
                <p>Created technique to enable AI collaboration on platforms outside training data by feeding API fragments and focusing on interaction patterns rather than platform specifics.</p>
            </div>
            <div class="result-card">
                <h4>Event-Driven Architecture</h4>
                <p>Built modular system where independent components communicate asynchronously via event bus, enabling parallel development and system isolation.</p>
            </div>
            <div class="result-card">
                <h4>Real-Time Processing</h4>
                <p>Implemented 90Hz hand tracking pipeline with state machines for gesture recognition and async processing to maintain performance.</p>
            </div>
            <div class="result-card">
                <h4>Complex System in 4 Months</h4>
                <p>Shipped from zero platform knowledge to App Store release in 4 months using AI collaboration throughout development.</p>
            </div>
            <div class="result-card">
                <h4>Production Deployment</h4>
                <p>Deployed production application processing 90Hz hand tracking, real-time physics, and complex gesture recognition.</p>
            </div>
        </div>

        <h2>Why This Matters for AI Engineering Roles</h2>
        <div class="info-box">
            <h3>Project Outcomes</h3>
            <p>Key technical achievements from this project:</p>
            <ul>
                <li><strong>Beyond Training Boundaries:</strong> Successfully implemented complex physics on a platform that didn't exist in LLM training data</li>
                <li><strong>Algorithm Implementation:</strong> Used AI to implement convex casting and predictive collision detection from mathematical principles</li>
                <li><strong>System Architecture:</strong> Built event-driven system with async message passing and centralized state management</li>
                <li><strong>Production Performance:</strong> Maintained 90 FPS while processing real-time sensor data and physics calculations</li>
                <li><strong>Fast Delivery:</strong> Shipped to App Store in 4 months despite no prior platform experience</li>
            </ul>
        </div>
        
        <div class="info-box" style="background: #f0fdf4; border-color: #22c55e;">
            <h3>Ready to Discuss Technical Details</h3>
            <p>This project demonstrates using AI to solve complex engineering problems on platforms outside training data. I'm eager to discuss the context injection techniques, algorithm implementation process, and architectural decisions that made this possible.</p>
        </div>

        <div style="margin-top: 2rem; padding: 1.5rem; background: #f0f9ff; border-radius: 12px; border: 1px solid #0ea5e9; text-align: center;">
            <p style="margin: 0; font-size: 1.125rem;">
                <strong>Status:</strong> Live on App Store
                <span style="margin: 0 1rem;">•</span>
                <strong>Timeline:</strong> 4 Months to Production
                <span style="margin: 0 1rem;">•</span>
                <strong>Method:</strong> AI-Assisted Development
            </p>
        </div>

        <div class="project-footer">
            <a href="../index.html" class="back-link">← Back to Portfolio</a>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-swift.min.js"></script>
</body>
</html>
